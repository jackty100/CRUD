<!DOCTYPE html>

<body>
  <a href="/add.html">新增</a>

    <table id="usersTable">
        <tr>
            <th>ID</th>
            <th>信箱</th>
            <th>電話</th>
        </tr>
        <!-- 表格數據將在這裡填充 -->
    </table>
 <script>
    window.onload = function() {
        fetch('/api/users')
            .then(response => response.json())
            .then(data => {
                const table = document.getElementById('usersTable');
                data.forEach(user => {
                    const row = table.insertRow(-1); // 使用 -1 以在表格末尾插入行
                    row.insertCell(0).innerHTML = user.id;
                    row.insertCell(1).innerHTML = user.mail;
                    row.insertCell(2).innerHTML = user.phone;
                });
            })
            .catch(error => console.error('Error:', error));
    };
</script>
</body>
</html>
  </div> 

</body>
